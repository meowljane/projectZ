<!DOCTYPE HTML>
<html>

<body style="background-color: black;">
  <div class="book"></div>

  <div class="틀"></div>
<button id="erase" onclick="$('.move').css({'transform':'translate(0px, 0px)'}); $('.line').css({'opacity':'0'})">전체 지우기 임시 버튼</button>
  <div class="box" id="d111"></div>
  <div class="box move" id="d112"></div>
  <div class="box" id="d121"></div>
  <div class="box move" id="d122"></div>
  <div class="box" id="d131"></div>
  <div class="box move" id="d132"></div>
  <div class="box" id="d141"></div>
  <div class="box move" id="d142"></div>
  <div class="box" id="d151"></div>
  <div class="box move" id="d152"></div>


  <div class="box" id="d211"></div>
  <div class="box move" id="d212"></div>
  <div class="box" id="d221"></div>
  <div class="box move" id="d222"></div>
  <div class="box" id="d231"></div>
  <div class="box move" id="d232"></div>

  <div class="box" id="d311"></div>
  <div class="box move" id="d312"></div>
  <div class="box" id="d321"></div>
  <div class="box move" id="d322"></div>
  <div class="box" id="d331"></div>
  <div class="box move" id="d332"></div>

  <div class="box" id="d411"></div>
  <div class="box move" id="d412"></div>
  <div class="box" id="d421"></div>
  <div class="box move" id="d422"></div>
  <div class="box" id="d431"></div>
  <div class="box move" id="d432"></div>

  <div class="box" id="red1"></div>
  <div class="box move" id="red2"></div>
  <div class="box" id="orange1"></div>
  <div class="box move" id="orange2"></div>
  <div class="box" id="yellow1"></div>
  <div class="box move" id="yellow2"></div>
  <div class="box" id="green1"></div>
  <div class="box move" id="green2"></div>


  <svg height="1000" width="1000">
    <line class="line" id="line11" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line12" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line13" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line14" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line15" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />

    <line class="line" id="line21" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line22" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line23" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />

    <line class="line" id="line31" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line32" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line33" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />

    <line class="line" id="line41" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line42" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line43" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />

    <line class="line" id="line" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line2" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line3" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
    <line class="line" id="line4" x1="0" y1="0" x2="0" y2="0" style="position:absolute" />
  </svg>

  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://anseki.github.io/plain-draggable/js/libs-0c9dbba-210529120220.js"></script>
  <script src="https://anseki.github.io/plain-draggable/js/bezier.min.js"></script>
  <script src="https://anseki.github.io/plain-draggable/js/path-data-polyfill.js"></script>
  <script src="./domarrow.js"></script>
  <link rel="stylesheet" href="./domarrow.css">

</body>

<style>

#erase{
position : absolute;
}

  .box {

    border-radius: 50px;
    width: 25px;
    height: 25px;
  }

  .move {
    position: inherit;
    border-radius: 50px;
    width: 25px;
    height: 25px;
  }

  .book {
    background-image: url('줄잇기.png');
    background-size: cover;
    width: 700px;
    height: 500px;
    position: absolute;
    z-index: -1;
  }

  .line {
    z-index: 5;
    stroke: rgb(184, 223, 218);
    stroke-width: 17px;
    stroke-linecap: round;
  }

  #red1 {
    left: 366.5px;
    top: 260.5px;
    position: absolute;
  }

  #red2 {
    left: 366.5px;
    top: 260.5px;
    position: absolute;
  }

  #orange1 {
    left: 328.5px;
    top: 260.5px;
    position: absolute;
  }

  #orange2 {
    left: 328.5px;
    top: 260.5px;
    position: absolute;
  }

  #yellow1 {
    left: 275px;
    top: 260.5px;
    position: absolute;
  }

  #yellow2 {
    left: 275px;
    top: 260.5px;
    position: absolute;
  }

  #green1 {
    left: 237px;
    top: 260.5px;
    position: absolute;
  }

  #green2 {
    left: 237px;
    top: 260.5px;
    position: absolute;
  }

  /*///////////////////////////////////////////////*/

  #d411 {
    left: 357px;
    top: 232.5px;
    position: absolute;
  }

  #d412 {
    left: 357px;
    top: 232.5px;
    position: absolute;
  }

  #d421 {
    left: 324px;
    top: 232.5px;
    position: absolute;
  }

  #d422 {
    left: 324px;
    top: 232.5px;
    position: absolute;
  }

  #d431 {
    left: 286px;
    top: 232.5px;
    position: absolute;
  }

  #d432 {
    left: 286px;
    top: 232.5px;
    position: absolute;
  }


  /*////////////////////////////////////////////*/
  #d311,  #d312 {
    left: 370px;
    top: 202.5px;
    position: absolute;
  }


  #d321,  #d322 {
    left: 332px;
    top: 202.5px;
    position: absolute;
  }


  #d331,   #d332  {
    left: 296px;
    top: 202.5px;
    position: absolute;
  }
/*/////////////////////////////////////////////////*/
#d211,  #d212 {
    left: 383px;
    top: 174.5px;
    position: absolute;
  }


  #d221,  #d222 {
    left: 340px;
    top: 174.5px;
    position: absolute;
  }


  #d231,   #d232  {
    left: 277px;
    top: 174.5px;
    position: absolute;
  }

  /*/////////////////////////////////////*/
  #d111,  #d112 {
    left: 380px;
    top: 145.5px;
    position: absolute;
  }


  #d121,  #d122 {
    left: 344px;
    top: 145.5px;
    position: absolute;
  }


  #d131,   #d132  {
    left: 306px;
    top: 145.5px;
    position: absolute;
  }

  #d141,  #d142 {
    left: 269px;
    top: 145.5px;
    position: absolute;
  }


  #d151,   #d152  {
    left: 247px;
    top: 145.5px;
    position: absolute;
  }

</style>
<script>



  window.addEventListener('load', function () {
    'use strict';
    $('.line').css({ "opacity": "0" })
    ///////////////////////////////////////////


    function animMode(toOn) {
      if (toOn !== inAnim) {
        inAnim = toOn;
        mClassList(target[0])[inAnim ? 'add' : 'remove']('ex-060-anim');
      }
    }

    ////////////////////////////////////////////////////

    const padding = 7;
    var inAnim = false,
      DURATION = 0.2,
      port = $("#red1"),
      target = $("#red2"),
      bBox = target[0].getBoundingClientRect(),
      portPosition = port[0].getBoundingClientRect(),
      snapped;

    port[0].style.width = bBox.width + 'px';
    port[0].style.height = bBox.height + 'px';
    portPosition = {
      left: portPosition.left + window.pageXOffset,
      top: portPosition.top + window.pageYOffset
    };
    var snapshot =
      [{ x: 252, y: 151, center: true },
      { x: 274, y: 151, center: true },
      { x: 311, y: 151, center: true },
      { x: 349, y: 151, center: true },
      { x: 385, y: 151, center: true },
      { x: 282, y: 180, center: true },
      { x: 345, y: 180, center: true },
      { x: 389, y: 180, center: true },
      { x: 302, y: 208, center: true },
      { x: 337, y: 208, center: true },
      { x: 377, y: 208, center: true },
      { x: 293, y: 238, center: true },
      { x: 331, y: 238, center: true },
      { x: 364, y: 238, center: true },
      { x: 244, y: 266, center: true },
      { x: 282, y: 266, center: true },
      { x: 337, y: 266, center: true },
      { x: 375, y: 266, center: true }
      ]

    //////////////////////////


    var draggable = new PlainDraggable($('#red2')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#red1");
        target = $("#red2");
        const $line = $("#line");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },

      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
    var draggable = new PlainDraggable($('#orange2')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#orange1");
        target = $("#orange2");
        const $line = $("#line2");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line2").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
    var draggable = new PlainDraggable($('#yellow2')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#yellow1");
        target = $("#yellow2");
        const $line = $("#line3");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line3").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
    var draggable = new PlainDraggable($('#green2')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#green1");
        target = $("#green2");
        const $line = $("#line4");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line4").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
    /////////////////////////////////////////////////////////


    var draggable = new PlainDraggable($('#d412')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d411");
        target = $("#d412");
        const $line = $("#line41");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line41").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
    var draggable = new PlainDraggable($('#d422')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d421");
        target = $("#d422");
        const $line = $("#line42");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line42").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
    var draggable = new PlainDraggable($('#d432')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d431");
        target = $("#d432");
        const $line = $("#line43");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line43").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
///////////////////////////////////////////////////////////////////////////
var draggable = new PlainDraggable($('#d312')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d311");
        target = $("#d312");
        const $line = $("#line31");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line31").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
var draggable = new PlainDraggable($('#d322')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d321");
        target = $("#d322");
        const $line = $("#line32");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line32").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
var draggable = new PlainDraggable($('#d332')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d331");
        target = $("#d332");
        const $line = $("#line33");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line33").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
/////////////////////////////////////////////////////////////////////
var draggable = new PlainDraggable($('#d212')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d211");
        target = $("#d212");
        const $line = $("#line21");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line21").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
var draggable = new PlainDraggable($('#d222')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d221");
        target = $("#d222");
        const $line = $("#line22");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line22").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
var draggable = new PlainDraggable($('#d232')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d231");
        target = $("#d232");
        const $line = $("#line23");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line23").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
///////////////////////////////////////////////////////////////////
var draggable = new PlainDraggable($('#d112')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d111");
        target = $("#d112");
        const $line = $("#line11");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line11").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
var draggable = new PlainDraggable($('#d122')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d121");
        target = $("#d122");
        const $line = $("#line12");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line12").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
var draggable = new PlainDraggable($('#d132')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d131");
        target = $("#d132");
        const $line = $("#line13");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line13").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
var draggable = new PlainDraggable($('#d142')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d141");
        target = $("#d142");
        const $line = $("#line14");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line14").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });
var draggable = new PlainDraggable($('#d152')[0], {
      onDrag: function (moveTo) {
        var value = this.left;
        port = $("#d151");
        target = $("#d152");
        const $line = $("#line15");
        portPosition = port[0].getBoundingClientRect()
        animMode(!!(snapped = moveTo.snapped));
        $line.css({ "opacity": "0.7" })
        const x1 = port.offset().left + port.width() / 2 - padding;
        const y1 = port.offset().top + port.height() / 2 - padding;
        const x2 = target.offset().left + port.width() / 2 - padding;
        const y2 = target.offset().top + port.height() / 2 - padding;
        $line.attr("x1", x1);
        $line.attr("y1", y1);
        $line.attr("x2", x2);
        $line.attr("y2", y2);
      },
      snap: snapshot
      ,
      onDragEnd: function () {
        if (!snapped) {
          $("#line15").css({ "opacity": "0" });
          this.left = portPosition.left;
          this.top = portPosition.top;
        }
      }
    });

  });


</script>

</html>
